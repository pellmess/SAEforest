% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tune_parameters.R
\name{tune_parameters}
\alias{tune_parameters}
\title{Tuning and cross-validation of MERF parameters}
\usage{
tune_parameters(
  Y,
  X,
  data,
  dName,
  trControl,
  tuneGrid,
  seed = 11235,
  gg_theme = theme_minimal(),
  plot_res = TRUE,
  return_plot = FALSE,
  ...
)
}
\arguments{
\item{Y}{metric input value of target variable.}

\item{X}{matrix or data.frame of predictive covariates.}

\item{data}{data.frame of survey sample data including the specified elements of \code{Y} and
\code{X}.}

\item{dName}{character specifying the name of domain identifier, for which random intercepts
are modeled.}

\item{trControl}{control parameters passed to \link[caret]{train}. Most important
parameters are \code{method} ("repeatedcv" for x-fold cross-validation) and the number of
repetitions (\code{folds}) or folds (\code{number}). For further details see \link[caret]{trainControl}
and the example below.}

\item{tuneGrid}{A data.frame with possible tuning values. The columns must have the same names as the
tuning parameters. For this tuning function the grid must comprise entries for the following parameters:
\code{num.trees, mtry, min.node.size, splitrule}.}

\item{seed}{enabling reproduceability of for cross-validation and tuning. Defaults to \code{11235}.}

\item{gg_theme}{Specify a predefined theme from \pkg{ggplot2}. Default is set to \code{theme_minimal}.}

\item{plot_res}{optional logical. If \code{TRUE}, the plot with results of cross-validation and tuning
is shown. Defaults to TRUE.}

\item{return_plot}{if set to \code{TRUE}, a list of the comparative plot produced by \pkg{ggplot2}
is returned for further individual customization and processing.}

\item{...}{Additional parameters are directly passed to the random forest \link[ranger]{ranger} and/or
the training function \link[caret]{train}. For further details on possible parameters and examples
see \link[ranger]{ranger} or \link[caret]{train}.}
}
\description{
Function \code{tune_parameters} allows to tune parameters for the implemented MERF method. Essentially,
this function can be understood as a modified wrapper for \link[caret]{train} from the package \pkg{caret}, treating
MERFs as a custom method.
}
\details{
Tuning can be performed on the following four parameters: \code{num.trees}(the number of trees
for a forest), \code{mtry} (number of variables as split candidates at in each node), \code{min.node.size}
(minimal individual node size) and \code{splitrule} (general splitting rule). For details see
\link[ranger]{ranger}.
}
\examples{
\dontrun{#Loading data
data("eusilcA_pop")
data("eusilcA_smp")

income <- eusilcA_smp$eqIncome
X_covar <- eusilcA_smp[,-c(1,16,17,18)]

#Specifc characteristics of Cross-validation
fitControl <- trainControl(method = "repeatedcv",
                          number = 5,
                          repeats = 1)

# Define a tuning-grid
merfGrid <- expand.grid(num.trees = c(50),
                       mtry = c(3,7,9), min.node.size = c(5), splitrule =
                         c("variance"))

tune_parameters(Y = income, X = X_covar, data = eusilcA_smp, dName ="district",
                trControl = fitControl, tuneGrid = merfGrid)
}

}
\seealso{
\code{\link{SAEforest}}, \code{\link{MERFranger}}, \code{\link[caret]{train}},
\code{\link[ggplot2]{ggplot}}
}
